<!DOCTYPE html>
<html>
<head>
  <div class="header">
  <img src="{{ url_for('static', filename='alonza_logo.png') }}" class="logo-right">
</div>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
  <title>Leaderboard</title>
  <link rel="stylesheet" href="/static/style.css">
</head>
<body>

<h1>üèÜ Leaderboard</h1>

<table>
  <thead>
    <tr>
      <th>Rank</th>
      <th>Name</th>
      <th>Class</th>
      <th>Total</th>
    </tr>
  </thead>
  <tbody id="rows"></tbody>
</table>

<script>
async function loadBoard() {
  const res = await fetch("/leaderboard-data");
  const data = await res.json();

  let html = "";
  data.forEach((r, i) => {
    html += `
      <tr>
        <td>${i + 1}</td>
        <td>${r[0]}</td>
        <td>${r[1]}</td>
        <td>‚Çπ${r[2]}</td>
      </tr>
    `;
  });

  document.getElementById("rows").innerHTML = html;
}

loadBoard();
setInterval(loadBoard, 5000);
</script>

</body>
</html>